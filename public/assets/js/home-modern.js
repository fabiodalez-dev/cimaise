import{L as e}from"./lenis-CfsBQfFC.js";document.addEventListener("DOMContentLoaded",function(){const t=()=>window.innerWidth<768;let i=null;if(!t()){let t=function(e){i.raf(e),requestAnimationFrame(t)};i=new e({duration:2,easing:e=>1-Math.pow(1-e,4),direction:"vertical",gestureDirection:"vertical",smooth:!0,smoothTouch:!1,touchMultiplier:1.5,wheelMultiplier:.8}),requestAnimationFrame(t)}const o=document.querySelector(".inf-work_list"),s=document.querySelector(".work-layout");let n=Array.from(document.querySelectorAll(".inf-work_item")),r=[],l=[],c=[],a=!1,d=!1,u=0,m=0,f=0,h=0,y=0;const v=()=>{r=Array.from(document.querySelectorAll(".inf-work_item")),n=r,l=r.filter((e,t)=>t%2==0),c=r.filter((e,t)=>t%2==1)};v();const p=e=>{e.forEach(e=>{e.style.transform=""})},L=(e,i)=>{t()||!d||a||i.forEach((t,i)=>{const o=((i*h+e)%y+y)%y-h;t.style.transform=`translate(0px, ${o}px)`})},g=document.querySelectorAll(".grid-toggle_item[data-filter]");g.forEach(e=>{e.addEventListener("click",function(e){const i=this.getAttribute("data-filter");if("all"!==i&&"a"===this.tagName.toLowerCase())return;e.preventDefault(),g.forEach(e=>e.classList.remove("is-active")),this.classList.add("is-active");const s=Array.from(document.querySelectorAll(".inf-work_item"));"all"===i?(s.forEach(e=>{e.style.display=""}),(()=>{if(o&&(a=!1,o.classList.remove("filtered-layout"),!t())){v();const e=c;d&&(L(m,l),L(f,e))}})()):(o&&(a=!0,p(n),o.classList.add("filtered-layout"),o.classList.remove("simple-layout")),s.forEach(e=>{e.classList.contains("category-"+i)?e.style.display="":e.style.display="none"}));const r=document.querySelector(".photos_total");if(r){const e=document.querySelectorAll('.inf-work_item:not([style*="display: none"])');r.textContent=e.length}})});const w=document.querySelector(".menu-btn"),E=document.querySelector(".menu-close"),A=document.querySelector(".menu-component");function q(){A&&(A.classList.remove("is-open"),document.body.style.overflow="",i&&i.start())}w&&w.addEventListener("click",function(){A&&(A.classList.add("is-open"),document.body.style.overflow="hidden",i&&i.stop())}),E&&E.addEventListener("click",q),document.addEventListener("keydown",function(e){"Escape"===e.key&&q()});document.querySelectorAll(".mega-menu_link.is-current").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),q()})});const S=document.querySelector(".page-transition");let k;(()=>{const e=document.querySelectorAll(".inf-work_item img"),t=window.innerHeight;e.forEach(e=>{const i=e.getBoundingClientRect();i.top<t&&i.bottom>0&&(e.setAttribute("fetchpriority","high"),e.removeAttribute("loading"))})})(),(()=>{if(v(),!o||0===n.length||t())return void(o&&(o.classList.add("simple-layout"),p(n)));(()=>{if(!o||0===n.length)return;const e=Array.from(document.querySelectorAll(".inf-work_item:not(.is-clone)")),t=e.length;if(t>=8)return;if(0===t)return;const i=Math.ceil(8/t)*t-t;for(let s=0;s<i;s++){const i=e[s%t].cloneNode(!0);i.classList.add("is-clone"),i.removeAttribute("id"),o.appendChild(i)}v()})();const e=r,i=l,g=c;if(e.length<4)return o.classList.add("simple-layout"),void e.forEach(e=>e.classList.add("is-visible"));d=!0,o.classList.remove("simple-layout"),o.classList.remove("filtered-layout"),h=e[0].clientHeight||400,y=e.length/2*h,L(0,i),L(0,g),e.forEach(e=>e.classList.add("is-visible"));const w=e=>{t()||!d||a||(u-=e.deltaY)};s&&(s.removeEventListener("wheel",w),s.addEventListener("wheel",w,{passive:!0}));const E=()=>{if(t()||!d||a)return void setTimeout(()=>requestAnimationFrame(E),500);requestAnimationFrame(E);const e=l,i=c;if(r[0]){const e=r[0].clientHeight;e!==h&&e>0&&(h=e,y=r.length/2*h)}m+=.09*(u-m),f+=.08*(u-f),L(m,e),L(f,i)};E()})(),(()=>{const e=document.querySelectorAll("[data-inf-item]"),i=document.querySelector(".image-grid-info_holder"),s=document.querySelector("[data-image-grid-title]"),n=document.querySelector("[data-image-grid-copy]");e.forEach(r=>{if(r.dataset.hoverSetup)return;r.dataset.hoverSetup="true";const l=r.getAttribute("data-work-title")||"",c=r.getAttribute("data-work-copy")||"";r.addEventListener("mouseenter",function(){t()||(this.classList.add("highlight"),o&&o.classList.add("has-hover"),i&&i.classList.add("show"),s&&(s.textContent=l),n&&(n.textContent=c))}),r.addEventListener("mouseleave",function(){t()||(this.classList.remove("highlight"),o&&o.classList.remove("has-hover"),i&&i.classList.remove("show"))}),r.addEventListener("click",function(i){if(!t())return;this.classList.contains("show-description")||(i.preventDefault(),e.forEach(e=>{e.classList.remove("show-description")}),this.classList.add("show-description"))})})})(),document.querySelectorAll(".inf-work_link").forEach(e=>{e.dataset.transitionSetup||(e.dataset.transitionSetup="true",e.addEventListener("click",function(e){if(t()){const e=this.closest(".inf-work_item");if(!e||!e.classList.contains("show-description"))return}e.preventDefault();const i=this.getAttribute("href");S?(S.classList.add("is-active"),setTimeout(()=>{window.location.href=i},600)):window.location.href=i}))}),(()=>{const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("is-visible"),e.unobserve(t.target))})},{threshold:.15,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".inf-work_item").forEach(t=>{t.classList.contains("is-visible")||e.observe(t)})})(),window.addEventListener("resize",()=>{clearTimeout(k),k=setTimeout(()=>{t()?(p(n),null==o||o.classList.add("simple-layout")):a||(v(),r[0]&&(h=r[0].clientHeight,y=r.length/2*h))},100)})});
